<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="discord-application-id" content="1170773879162159144">
<title>ðŸš€ Space Blaster</title>
<style>
  body { margin: 0; overflow: hidden; background: black; font-family: Arial, sans-serif; color: white; }
  #game { position: relative; width: 100%; height: 100vh; overflow: hidden; }
  .player { position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); width: 50px; height: 50px; background: url('https://i.imgur.com/N5uCbDu.png') no-repeat center/contain; }
  .bullet { position: absolute; width: 5px; height: 10px; background: yellow; }
  .enemy { position: absolute; width: 40px; height: 40px; background: url('https://i.imgur.com/kB4yDBV.png') no-repeat center/contain; }
  #score { position: absolute; top: 10px; left: 10px; font-size: 18px; }
  #game-over { position: absolute; top: 45%; left: 50%; transform: translate(-50%, -50%); font-size: 30px; display: none; text-align: center; }
  #game-over button { margin-top: 20px; padding: 10px 20px; font-size: 16px; cursor: pointer; border: none; border-radius: 10px; background-color: #27ae60; color: white; }
  #game-over button:hover { background-color: #2ecc71; }
</style>
</head>
<body>
<div id="game">
  <div class="player" id="player"></div>
  <div id="score">Score : 0</div>
  <div id="game-over">
    ðŸ’¥ GAME OVER ðŸ’¥<br>
    <button onclick="restartGame()">Rejouer</button>
  </div>
</div>

<script>
const game = document.getElementById('game');
const player = document.getElementById('player');
const scoreDisplay = document.getElementById('score');
const gameOverScreen = document.getElementById('game-over');

let score = 0;
let bullets = [];
let enemies = [];
let gameOver = false;
let playerX = window.innerWidth/2 - 25;
const speed = 7;

// DÃ©placement joueur + tir
document.addEventListener('keydown', e => {
  if(gameOver) return;
  if(e.key==='ArrowLeft' && playerX>0) playerX -= speed*2;
  if(e.key==='ArrowRight' && playerX<window.innerWidth-50) playerX += speed*2;
  if(e.key===' ') shoot();
  player.style.left = playerX+'px';
});

// Tir
function shoot(){
  const bullet = document.createElement('div');
  bullet.classList.add('bullet');
  bullet.style.left = playerX+22+'px';
  bullet.style.bottom = '70px';
  game.appendChild(bullet);
  bullets.push(bullet);
}

// Spawn ennemis
function spawnEnemy(){
  if(gameOver) return;
  const enemy = document.createElement('div');
  enemy.classList.add('enemy');
  enemy.style.left = Math.random()*(window.innerWidth-40)+'px';
  enemy.style.top = '0px';
  game.appendChild(enemy);
  enemies.push(enemy);
}
setInterval(spawnEnemy,1000);

// Boucle
function gameLoop(){
  if(gameOver) return;

  bullets.forEach((b,i)=>{
    b.style.bottom = parseInt(b.style.bottom)+10+'px';
    if(parseInt(b.style.bottom) > window.innerHeight){ b.remove(); bullets.splice(i,1); }
  });

  enemies.forEach((e,i)=>{
    e.style.top = parseInt(e.style.top)+3+'px';
    if(parseInt(e.style.top) > window.innerHeight-50) endGame();

    bullets.forEach((b,j)=>{
      const bRect = b.getBoundingClientRect();
      const eRect = e.getBoundingClientRect();
      if(bRect.left<eRect.right && bRect.right>eRect.left && bRect.top<eRect.bottom && bRect.bottom>eRect.top){
        e.remove(); enemies.splice(i,1);
        b.remove(); bullets.splice(j,1);
        score++; scoreDisplay.textContent='Score : '+score;
      }
    });
  });

  requestAnimationFrame(gameLoop);
}
gameLoop();

function endGame(){
  gameOver=true;
  enemies.forEach(e=>e.remove());
  bullets.forEach(b=>b.remove());
  gameOverScreen.style.display='block';
}

function restartGame(){
  gameOver=false; score=0; scoreDisplay.textContent='Score : 0';
  gameOverScreen.style.display='none';
  enemies=[]; bullets=[];
  gameLoop();
}
</script>
</body>
</html>
